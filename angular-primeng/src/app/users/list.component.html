
<h1>Users</h1>
<a routerLink="add" class="btn btn-sm btn-success mb-2">Add User</a>

<p-table [value]="users" styleClass="p-datatable-responsive-demo">

      <ng-template pTemplate="header">
        <tr>
            <th pSortableColumn="name">Name <p-sortIcon field="name"></p-sortIcon></th>
            <th pSortableColumn="email">Email <p-sortIcon field="category"></p-sortIcon></th>
            <th pSortableColumn="role">Quantity <p-sortIcon field="quantity"></p-sortIcon></th>
            <th width="200px">Action </th>
        </tr>
    </ng-template>

  <ng-template pTemplate="body" let-user>
      <tr>
          <td>{{user.title}} {{user.firstName}} {{user.lastName}}</td>
          <td>{{user.email}}</td>
          <td>{{user.role}}</td>
          <td> <a routerLink="edit/{{user.id}}" pButton class="p-tag">Edit</a>

            <button pButton (click)="deleteUser(user.id)" class="p-tag" [disabled]="user.isDeleting">
                <span *ngIf="user.isDeleting" class="spinner-border spinner-border-sm"></span>
                <span *ngIf="!user.isDeleting">Delete</span>
            </button>
          </td>
      </tr>

  </ng-template>
</p-table>

